import { Meta } from '@storybook/addon-docs';
import { headlineObjectStyles, bodyObjectStyles, textSansObjectStyles, titlepieceObjectStyles } from '@guardian/source-foundations';
import { TypographyMap } from './TypographyMap';

<Meta
	title="Packages/source-foundations/Typography"
	parameters={{ previewTabs: { canvas: { hidden: true } }, viewMode: 'docs' }}
/>

# Typography

Typographic choices affect how textual content is interpreted; influencing tone,
hierarchy and legibility.

## Example

```tsx
import { headline, body, textSans } from '@guardian/source-foundations';

const h1 = css`
	${headline.large()};
`;

const p = css`
	${body.medium()};
`;

const copyright = css`
	${textSans.xsmall()};
`;
```

You can also use the [object style syntax](https://emotion.sh/docs/object-styles):

```tsx
import { headlineObjectStyles } from '@guardian/source-foundations';

const h1 = {
	...headlineObjectStyles.large(),
};
```

## Where can I find The Guardian's fonts?

The canonical source of fonts is https://github.com/guardian/fonts

They should be loaded from the locations specified in [font-faces.css](https://github.com/guardian/fonts/blob/main/fonts/web/font-faces.css). This optimises for consistency and performance across The Guardian's digital products.

## API

Each font family has an associated import, exposing methods that return snippets
of CSS depending on the desired font size.

A range of font sizes are available for each font family. The `medium` font size
should be considered the default.

Pixel values are given below for ease of understanding. By default the
typography API assigns font size in rems.

### Headline

```css
font-family: 'GH Guardian Headline, Guardian Egyptian Web, Georgia, serif';
```

<Story name="headline">
	<TypographyMap fontName="headline" fontStyles={headlineObjectStyles}></TypographyMap>
</Story>

### Body

```css
font-family: 'GuardianTextEgyptian, Guardian Text Egyptian Web, Georgia, serif';
```

<Story name="body">
	<TypographyMap fontName="body" fontStyles={bodyObjectStyles}></TypographyMap>
</Story>

### Text sans

```css
font-family: 'GuardianTextSans, Guardian Text Sans Web, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif';
```

<Story name="textSans">
	<TypographyMap fontName="textSans" fontStyles={textSansObjectStyles}></TypographyMap>
</Story>

### Titlepiece

```css
font-family: 'GT Guardian Titlepiece, Georgia, serif';
```

<Story name="titlepiece">
	<TypographyMap fontName="titlepiece" fontStyles={titlepieceObjectStyles}></TypographyMap>
</Story>

### Options

Each method may receive an `options` object. Missing options are merged with sensible defaults for each font family.

#### Line height

```tsx
headline.medium({ lineHeight: 'loose' });
```

<Story name="line height">
	<ul>
		<li style={{...headlineObjectStyles.xxsmall({ lineHeight: 'loose' }), margin: 0}}>
		loose -> 1.5
		</li>
		<li style={{...headlineObjectStyles.xxsmall({ lineHeight: 'regular' }), margin: 0}}>
		regular -> 1.35
		</li>
		<li style={{...headlineObjectStyles.xxsmall({ lineHeight: 'tight' }), margin: 0}}>
		tight -> 1.15
		</li>
	</ul>
</Story>

The default for body and textSans is `loose`. This meets the [WCAG 2.1 AAA success criterion for visual presentation](https://www.w3.org/TR/WCAG21/#visual-presentation).

The default for headline and titlepiece is `tight`.

#### Font weight

```tsx
headline.medium({ fontWeight: 'bold' });
```

<Story name="font weight">
	<ul>
		<li style={{...headlineObjectStyles.xxsmall({ fontWeight: 'light' })}}>
		light -> 300
		</li>
		<li style={{...headlineObjectStyles.xxsmall({ fontWeight: 'regular' })}}>
		regular -> 400
		</li>
		<li style={{...headlineObjectStyles.xxsmall({ fontWeight: 'medium' })}}>
		medium -> 500
		</li>
		<li style={{...headlineObjectStyles.xxsmall({ fontWeight: 'bold' })}}>
		bold -> 700
		</li>
	</ul>
</Story>

The default for body and textSans is `regular`. The `light` and `medium` font weights are not available for these fonts.

The default for headline is `medium`. The `regular` font-weight is not available for this font.

The default and only font-weight for titlepiece is `bold`.

#### Font style

```tsx
headline.medium({ fontStyle: 'italic' });
```

`normal` (default) is available for all fonts.

`italic` is available for the following fonts:

<Story name="italics">
	<ul>
		<li style={{...headlineObjectStyles.xxsmall({ fontStyle: 'italic', fontWeight: 'light' })}}>
		headline light
		</li>
		<li style={{...headlineObjectStyles.xxsmall({ fontStyle: 'italic', fontWeight: 'medium' })}}>
		headline medium
		</li>
		<li style={{...bodyObjectStyles.xsmall({ fontStyle: 'italic', fontWeight: 'regular' })}}>
		body regular
		</li>
		<li style={{...bodyObjectStyles.xsmall({ fontStyle: 'italic', fontWeight: 'bold' })}}>
		body bold
		</li>
		<li style={{...textSansObjectStyles.xsmall({ fontStyle: 'italic', fontWeight: 'regular' })}}>
		textSans regular
		</li>
	</ul>
</Story>


#### Unit

```tsx
headline.medium({ unit: 'px' });
```

Specifies units for the font-size and line-height values.

By default, font-size is expressed in `rem`, and line-height is expressed as a [unitless value](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height#values).

You can override this behaviour by setting the `unit` option to `px`. As a result, both font-size and line-height will be expressed in `px` values.
