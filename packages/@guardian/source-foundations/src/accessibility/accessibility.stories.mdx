import { Meta } from '@storybook/addon-docs';

<Meta
	title="Packages/source-foundations/Accessibility helpers"
	parameters={{ previewTabs: { canvas: { hidden: true } } }}
/>

# Accessibility helpers

## Focus halo

Providing a clear focus state (the blue halo effect around active elements) is essential to support keyboard navigation.

The focus halo may be imported and applied to custom elements.

```tsx
import { focusHalo } from '@guardian/source-foundations';

const customButton = css`
	${focusHalo};
`;
```

## Focus manager

While providing a clear focus state is essential to support keyboard navigation, it is less important, and arguably distracting, for mouse users.

Source provides a utility that manages the appearance of focus styles. When enabled, focus styles will be hidden while the user interacts using the mouse. They will appear when the tab key is pressed to begin keyboard navigation.

You must explictly enable this feature in your app (and you probably want to):

```tsx
import { FocusStyleManager } from '@guardian/source-foundations';

FocusStyleManager.onlyShowFocusOnTabs();
```

## Visually hidden elements

Some elements should be presented only to screen reader users. Examples include restyled checkboxes and button labels that provide more contextual information to the user.

Source provides a snippet of CSS that can be imported and applied to elements that need to be hidden from sighted users and displayed to screen reader users.

```tsx
import { visuallyHidden } from '@guardian/source-foundations';

const label = css`
	${visuallyHidden};
`;
```

## Description Id

A function that takes the ID of an element and generates a new ID. This should be set as the ID of an element that describes the first element. The generated ID should also be passed to the `aria-describedby` attribute on the first element.

```tsx
import { descriptionId } from '@guardian/source-foundations';

const Form = () => {
	const id = 'first_name';
	return (
		<form>
			<input id={id} type="text" aria-describedby={descriptionId(id)} />
			<p class="error" id={descriptionId(id)} />
		</form>
	);
};
```
